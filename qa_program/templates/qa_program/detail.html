<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail</title>

    <script src="/static/js/jquery/2.0.0/jquery.min.js"></script>
    <link href="/static/css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <script src="/static/js/bootstrap/3.3.6/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/normalize.css">

    <link rel="stylesheet" href="/static/bootstrap-fileinput-master/css/fileinput.min.css">
    <script src="/static/bootstrap-fileinput-master/js/fileinput.min.js"></script>

    <link rel="stylesheet" href="{% static 'qa_program/css/detail.css' %}">

</head>

<body>
    <div class="bg">
        <div class="box">
            <div class="title">
            [{{ q.id }}] {{ q.question }}
            </div>
            
            <div class="btn" id="a" onclick="">
                A. {{ q.A }}
            </div> 

            <div class="btn" id="b">
                B. {{ q.B }}
            </div>    

            <div class="btn" id="c">
                C. {{ q.C }}
            </div>   

            <div class="btn" id="d">
                D. {{ q.D }}
            </div>
        </div>
            

        <div class="down">
            <div id="type">
                unknown
            </div>

            <div class="down-down">
                <button id="pre" class="mid">上一题</button>
                <button id="next" class="mid">下一题</button>
                <input type="text" maxlength="4" id="input">
                <button id="jump" class="mid">跳转</button>
            </div>
        </div>
    </div>
</body>


</html>

<script>
    var answer = '{{ q.answer }}';
    var ans_id = '#' + answer;
    var current_id = '{{ q.id }}';

    current_id = parseInt(current_id);

    var pre_id = current_id - 1;
    var next_id = current_id + 1;

    var q_type;

    read_type('{{ q.kind }}');

    str = q_type + ' - {{ q.no }}';
    $("#type").html(str);

    $("#a").click(function(){
        if (answer == 'A') {
            $("#a").css("background-color", "green");
            setTimeout(function() {
                location.href = '../' + next_id;
            }, 500);
        }
        else {
            $("#a").css("background-color", "darkred");
            $(ans_id).css("background-color", "green");
        }
    });

    $("#b").click(function(){
        if (answer == 'B') {
            $("#b").css("background-color", "green");
            setTimeout(function() {
                location.href = '../' + next_id;
            }, 500);
        }
        else {
            $("#b").css("background-color", "darkred");
            $(ans_id).css("background-color", "green");
        }
    });

    $("#c").click(function(){
        if (answer == 'C') {
            $("#c").css("background-color", "green");
            setTimeout(function() {
                location.href = '../' + next_id;
            }, 500);
        }
        else {
            $("#c").css("background-color", "darkred");
            $(ans_id).css("background-color", "green");
        }
    });

    $("#d").click(function(){
        if (answer == 'D') {
            $("#d").css("background-color", "green");
            setTimeout(function() {
                location.href = '../' + next_id;
            }, 500);
        }
        else {
            $("#d").css("background-color", "darkred");
            $(ans_id).css("background-color", "green");
        }
    });

    $("#next").click(function() {
        location.href = '../' + next_id;
    });

    $("#pre").click(function() {
        location.href = '../' + pre_id;
    });
    
    $("#jump").click(function() {
        location.href = '../' + $("#input").val();
    });

    function read_type(s) {
        if (s == 'J') q_type = '数据结构 142';
        else if (s == 'K') q_type = '数据库原理 149';
        else if (s == 'W') q_type = '网络 220';
        else if (s == 'R') q_type = '软件工程 173';
        else if (s == 'Z') q_type = '操作系统 149';
        else if (s == 'C') q_type = '应用基础 890';
        else if (s == 'D') q_type = '多媒体技术 127';
        else if (s == 'Y') q_type = '硬件部分 300';
        else if (s == 'H') q_type = '移动互联应用 177';
        else if (s == 'S') q_type = '数据表示和计算 49';
        else if (s == 'L') q_type = '离散数学 30';
        else if (s == 'Q') q_type = '软件知识产权 25';
        else if (s == '1') q_type = 'C 194';
        else if (s == '2') q_type = 'C++ 115';
        else if (s == '3') q_type = 'Java 147';
        else if (s == '4') q_type = 'JavaScript 93';
        else if (s == '5') q_type = 'C# 86';
    }

</script>